---
sidebar: sidebar 
permalink: vmware/vmw-gcp-gcnv-gcve-ds-dr-veeam.html 
keywords: disaster recovery, avs, google cloud, gcp, gcve, gcnv, google cloud netapp volumes, netapp volumes, dr, veeam, replication 
summary:  
---
= Google Cloud VMware Engine으로의 재해 복구를 위해 Veeam Replication 및 Google Cloud NetApp Volumes 데이터 저장소 사용
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
위기 상황에서는 포괄적인 재해 복구 계획이 기업에게 매우 중요합니다.  많은 조직이 일상 업무와 재해 복구를 위해 클라우드 컴퓨팅을 활용합니다.  이러한 사전 예방적 접근 방식을 통해 비용이 많이 드는 비즈니스 중단을 줄이거나 없앨 수 있습니다.

이 문서에서는 Veeam Backup & Replication을 사용하여 온프레미스 VMware VM에 대한 재해 복구를 Google Cloud Google Cloud NetApp Volumes (NetApp Volumes)를 사용하여 Google Cloud VMware Engine(GCVE)으로 설정하는 방법을 설명합니다.



== 개요

Google Cloud NetApp Volumes Google Cloud에서 사용할 수 있는 Google과 NetApp 의 스토리지 서비스입니다.  NetApp Volumes 서비스는 고성능 NFS/SMB 스토리지를 제공합니다.  VMware 인증 NetApp Volumes NFS 스토리지는 GCVE에서 ESXi 호스트의 외부 데이터 저장소로 사용할 수 있습니다.  사용자는 GCVE 프라이빗 클라우드와 NetApp Volumes 프로젝트 간에 피어링 연결을 만들어야 합니다.  지역 내 저장소 접근으로 인해 발생하는 네트워크 요금은 없습니다.  사용자는 Google Cloud 콘솔에서 NetApp Volumes 볼륨을 생성하고 ESXi 호스트에 볼륨을 데이터 저장소로 마운트하기 전에 삭제 보호를 활성화할 수 있습니다.

NetApp Volumes 기반 NFS 데이터 저장소는 VM 복제 기능을 제공하는 검증된 타사 솔루션을 사용하여 온프레미스에서 데이터를 복제하는 데 사용할 수 있습니다.  NetApp Volumes 데이터 저장소를 추가하면 스토리지를 수용하기 위해 많은 수의 ESXi 호스트를 사용하여 Google Cloud VMware Engine(GCVE) 기반 SDDC를 구축하는 대신 비용 최적화된 배포가 가능합니다.  이런 접근 방식을 "파일럿 라이트 클러스터"라고 합니다.  파일럿 라이트 클러스터는 NetApp Volumes 데이터 저장소 용량과 함께 최소 GCVE 호스트 구성(3개의 GCVE ESXi 호스트)으로, 용량 요구 사항을 충족하기 위해 독립적인 확장을 허용합니다.

목표는 장애 조치를 관리하는 데 필요한 핵심 구성 요소만으로 비용 효율적인 인프라를 유지하는 것입니다.  파일럿 라이트 클러스터는 장애 조치 시 확장되어 더 많은 GCVE 호스트를 추가할 수 있습니다.  장애 조치가 해결되고 정상적인 운영이 재개되면 파일럿 라이트 클러스터는 규모를 줄여 저비용 운영 모드로 돌아갈 수 있습니다.



== 이 문서의 목적

이 문서에서는 Veeam Backup & Replication과 함께 Google Cloud NetApp Volumes 데이터스토어를 사용하여 Veeam VM 복제 소프트웨어 기능을 사용하여 온프레미스 VMware VM에 대한 재해 복구를 GCVE로 설정하는 방법을 설명합니다.

Veeam Backup & Replication은 가상 환경을 위한 백업 및 복제 애플리케이션입니다.  가상 머신이 복제되면 Veeam Backup & Replication은 대상 GCVE SDDC 클러스터에 기본 VMware vSphere 형식으로 VM의 정확한 복사본을 생성합니다.  Veeam Backup & Replication은 복사본을 원본 VM과 동기화된 상태로 유지합니다.  복제는 DR 사이트에 VM의 마운트된 복사본이 즉시 시작할 수 있는 상태로 존재하므로 최상의 복구 시간 목표(RTO)를 제공합니다.

이 복제 메커니즘은 재해 발생 시 워크로드가 GCVE에서 빠르게 시작될 수 있도록 보장합니다.  Veeam Backup & Replication 소프트웨어는 WAN 및 느린 연결을 통한 복제를 위한 트래픽 전송도 최적화합니다.  또한 중복된 데이터 블록, 0개 데이터 블록, 스왑 파일 및 "제외된 VM 게스트 OS 파일"도 필터링합니다.  해당 소프트웨어는 복제 트래픽도 압축합니다.  복제 작업이 전체 네트워크 대역폭을 소모하는 것을 방지하려면 WAN 가속기와 네트워크 제한 규칙을 활용할 수 있습니다.

Veeam Backup & Replication의 복제 프로세스는 작업 중심입니다. 즉, 복제는 복제 작업을 구성하여 수행됩니다.  재해가 발생하는 경우 복제본으로 장애 조치를 취하여 VM을 복구할 수 있습니다.  장애 조치가 수행되면 복제된 VM이 원래 VM의 역할을 대신하게 됩니다.  장애 조치는 복제본의 최신 상태나 알려진 양호한 복원 지점으로 수행할 수 있습니다.  이를 통해 필요에 따라 랜섬웨어 복구나 분리된 테스트가 가능합니다.  Veeam Backup & Replication은 다양한 재해 복구 시나리오를 처리하기 위한 여러 가지 옵션을 제공합니다.



== 솔루션 개요

이 솔루션은 다음과 같은 상위 수준 단계를 포함합니다.

. Google Cloud NetApp Volumes 사용하여 NFS 볼륨 만들기
. NetApp Volumes NFS 볼륨에서 GCVE 데이터 저장소를 생성하려면 GCP 프로세스를 따르세요.
. Veeam Backup & Replication을 사용하여 VM 복제본을 생성하는 복제 작업을 설정합니다.
. 장애 조치 계획을 만들고 장애 조치를 수행합니다.
. 재해 이벤트가 완료되고 기본 사이트가 가동되면 프로덕션 VM으로 다시 전환합니다.



NOTE: NetApp Volumes에서 GCVE 데이터 저장소로 사용할 볼륨을 생성하는 경우 NFS v3만 지원됩니다.

GCVE의 데이터 저장소로 NetApp Volumes NFS 볼륨을 사용하는 방법에 대한 자세한 내용은 다음을 확인하세요. https://cloud.google.com/vmware-engine/docs/vmware-ecosystem/howto-cloud-volumes-datastores-gcve["Google Cloud NetApp Volumes 에서 호스팅하는 vSphere 데이터 저장소로 NFS 볼륨 사용"] .



== 아키텍처

다음 다이어그램은 이 문서에 제시된 솔루션의 아키텍처를 보여줍니다.  권장되는 모범 사례는 온-프레미스 사이트와 GCVE SDDC 모두에 Veeam Backup & Replication 서버를 두는 것입니다.  백업 및 복구는 온프레미스의 Veeam 서버에서 수행 및 관리되고, 복제는 GCVE SDDC의 Veeam 서버에서 관리됩니다.  이 아키텍처는 기본 데이터 센터에 장애가 발생할 때 가장 높은 가용성을 제공합니다.

image::dr-veeam-gcnv-001.png[아키텍처 다이어그램]



== GCVE 및 NetApp 볼륨 데이터 저장소에 대한 Veeam 복제를 위한 필수 구성 요소

이 솔루션에는 다음과 같은 구성 요소와 구성이 필요합니다.

. NetApp Volumes에는 NFS 볼륨을 생성할 수 있는 충분한 여유 용량을 갖춘 스토리지 풀이 있습니다.
. Veeam Backup and Replication 소프트웨어는 적절한 네트워크 연결을 갖춘 온프레미스 환경에서 실행됩니다.
. Veeam Backup & Replication 백업 VM이 소스와 대상 GCVE SDDC 클러스터에 연결되어 있는지 확인하세요.
. Veeam Backup & Replication 백업 VM이 소스 및 대상 GCVE 클러스터 모두에서 Veeam Proxy 서버 VM에 연결되어 있는지 확인하세요.
. 백업 서버는 짧은 이름을 확인하고 소스 및 대상 vCenter에 연결할 수 있어야 합니다.


사용자는 VMware Engine Cloud 콘솔 UI 내의 VPC 네트워크 피어링 또는 개인 연결 페이지를 사용하여 GCVE 프라이빗 클라우드와 NetApp Volumes 프로젝트 간에 피어링 연결을 만들어야 합니다.


NOTE: Veeam Backup and Replication 인벤토리에 GCVE vCenter 서버를 추가할 때 Veeam은 상승된 권한을 가진 GCVE 솔루션 사용자 계정을 필요로 합니다.  자세한 내용은 Google Cloud Platform(GCP) 문서를 참조하세요. https://cloud.google.com/vmware-engine/docs/private-clouds/classic-console/howto-elevate-privilege["VMware Engine 권한 상승"] .

추가 정보는 다음을 참조하세요. https://helpcenter.veeam.com/docs/backup/vsphere/replica_limitations.html?ver=120["고려 사항 및 제한 사항"] Veeam Backup & Replication 설명서에서.



== 배포 단계

다음 섹션에서는 Google Cloud NetApp Volumes 사용하여 NFS 데이터 저장소를 만들고 마운트하는 배포 단계와 Veeam Backup and Replication을 사용하여 온프레미스 데이터 센터와 Google Cloud VMware Engine 간에 전체 재해 복구 솔루션을 구현하는 방법을 간략하게 설명합니다.



=== GCVE를 위한 NetApp Volumes NFS 볼륨 및 데이터 저장소 생성

참조하다 https://cloud.google.com/vmware-engine/docs/vmware-ecosystem/howto-cloud-volumes-datastores-gcve["Google Cloud NetApp Volumes 에서 호스팅하는 vSphere 데이터 저장소로 NFS 볼륨 사용"] GCVE를 위한 데이터 저장소로 Google Cloud NetApp Volumes 사용하는 방법에 대한 개요를 알아보세요.

NetApp Volumes를 사용하여 GCVE용 NFS 데이터 저장소를 만들고 사용하려면 다음 단계를 완료하세요.

.NetApp 볼륨 NFS 볼륨 생성
[%collapsible%open]
====
Google Cloud NetApp Volumes Google Cloud Platform(GCP) 콘솔에서 액세스합니다.

참조하다 https://cloud.google.com/netapp/volumes/docs/configure-and-use/volumes/create-volume["볼륨을 생성합니다"] 이 단계에 대한 자세한 내용은 Google Cloud NetApp Volumes 설명서를 참조하세요.

. 웹 브라우저에서 다음으로 이동합니다. https://console.cloud.google.com/[] GCP 콘솔에 로그인하세요.  시작하려면 * NetApp Volumes*를 검색하세요.
. * NetApp Volumes* 관리 인터페이스에서 *만들기*를 클릭하여 NFS 볼륨을 만듭니다.
+
image::dr-veeam-gcnv-002.png[볼륨을 생성하다]

+
{nbsp}

. *볼륨 생성* 마법사에서 필요한 모든 정보를 입력합니다.
+
** 볼륨의 이름입니다.
** 볼륨을 생성할 스토리지 풀입니다.
** NFS 볼륨을 마운트할 때 사용되는 공유 이름입니다.
** 볼륨의 용량(GiB)입니다.
** 사용할 저장 프로토콜입니다.
** *클라이언트가 연결되면 볼륨 삭제 차단* 확인란을 선택합니다(데이터 저장소로 마운트할 때 GCVE에서 필요).
** 볼륨에 접근하기 위한 내보내기 규칙입니다.  이는 NFS 네트워크에 있는 ESXi 어댑터의 IP 주소입니다.
** 로컬 스냅샷을 사용하여 볼륨을 보호하는 데 사용되는 스냅샷 일정입니다.
** 선택적으로 볼륨을 백업하거나 볼륨에 대한 레이블을 만들 수 있습니다.
+

NOTE: NetApp Volumes에서 GCVE 데이터 저장소로 사용할 볼륨을 생성하는 경우 NFS v3만 지원됩니다.

+
image::dr-veeam-gcnv-003.png[볼륨을 생성하다]

+
{nbsp}

+
image::dr-veeam-gcnv-004.png[볼륨을 생성하다]

+
{nbsp} 볼륨 생성을 완료하려면 *만들기*를 클릭하세요.



. 볼륨이 생성되면 볼륨을 마운트하는 데 필요한 NFS 내보내기 경로를 볼륨의 속성 페이지에서 볼 수 있습니다.
+
image::dr-veeam-gcnv-005.png[볼륨 속성]



====
.GCVE에서 NFS 데이터 저장소 마운트
[%collapsible%open]
====
이 글을 쓰는 시점에서 GCVE에 데이터 저장소를 마운트하는 프로세스에는 볼륨을 NFS 데이터 저장소로 마운트하기 위해 GCP 지원 티켓을 열어야 합니다.

참조하다 https://cloud.google.com/vmware-engine/docs/vmware-ecosystem/howto-cloud-volumes-datastores-gcve["Google Cloud NetApp Volumes 에서 호스팅하는 vSphere 데이터 저장소로 NFS 볼륨 사용"] 자세한 내용은.

====


=== VM을 GCVE로 복제하고 장애 조치 계획을 실행하고 장애 복구합니다.

.GCVE에서 NFS 데이터 저장소에 VM 복제
[%collapsible%open]
====
Veeam Backup & Replication은 복제 중에 VMware vSphere 스냅샷 기능을 활용하고, Veeam Backup & Replication은 VMware vSphere에 VM 스냅샷을 생성하도록 요청합니다.  VM 스냅샷은 가상 디스크, 시스템 상태, 구성 및 메타데이터를 포함하는 VM의 특정 시점 복사본입니다.  Veeam Backup & Replication은 복제를 위한 데이터 소스로 스냅샷을 사용합니다.

VM을 복제하려면 다음 단계를 완료하세요.

. Veeam 백업 및 복제 콘솔을 엽니다.
. *홈* 탭에서 *복제 작업 > 가상 머신...*을 클릭합니다.
+
image::dr-veeam-gcnv-006.png[VM 복제 작업 생성]

+
{nbsp}

. *새 복제 작업* 마법사의 *이름* 페이지에서 작업 이름을 지정하고 적절한 고급 제어 확인란을 선택합니다.
+
** 온프레미스와 GCP 간 연결의 대역폭이 제한된 경우 복제본 시딩 확인란을 선택합니다.
** GCVE SDDC의 세그먼트가 온프레미스 사이트 네트워크의 세그먼트와 일치하지 않는 경우 네트워크 리매핑(다른 네트워크를 사용하는 GCVE SDDC 사이트의 경우) 확인란을 선택합니다.
** 온프레미스 프로덕션 사이트의 IP 주소 지정 방식이 대상 GCVE 사이트의 방식과 다른 경우, 복제본 재IP(다른 IP 주소 지정 방식을 사용하는 DR 사이트용) 확인란을 선택합니다.
+
image::dr-veeam-gcnv-007.png[이름 페이지]

+
{nbsp}



. *가상 머신* 페이지에서 GCVE SDDC에 연결된 NetApp Volumes 데이터 저장소에 복제할 VM을 선택합니다.  *추가*를 클릭한 다음, *개체 추가* 창에서 필요한 VM이나 VM 컨테이너를 선택하고 *추가*를 클릭합니다. *다음*을 클릭하세요.
+

NOTE: 가상 머신을 vSAN에 배치하여 사용 가능한 vSAN 데이터 저장소 용량을 채울 수 있습니다.  파일럿 라이트 클러스터에서는 3노드 vSAN 클러스터의 사용 가능한 용량이 제한됩니다.  나머지 데이터는 Google Cloud NetApp Volumes 데이터 저장소에 쉽게 저장하여 VM을 복구할 수 있으며, 나중에 CPU/메모리 요구 사항을 충족하도록 클러스터를 확장할 수 있습니다.

+
image::dr-veeam-gcnv-008.png[복제할 VM 선택]

+
{nbsp}

. *대상* 페이지에서 대상을 GCVE SDDC 클러스터/호스트, VM 복제본에 대한 적절한 리소스 풀, VM 폴더 및 NetApp Volumes 데이터 저장소로 선택합니다.  계속하려면 *다음*을 클릭하세요.
+
image::dr-veeam-gcnv-009.png[목적지 세부 정보 선택]

+
{nbsp}

. *네트워크* 페이지에서 필요에 따라 소스 및 대상 가상 네트워크 간의 매핑을 만듭니다.  계속하려면 *다음*을 클릭하세요.
+
image::dr-veeam-gcnv-010.png[네트워크 매핑]

+
{nbsp}

. *Re-IP* 페이지에서 *추가...* 버튼을 클릭하여 새로운 re-ip 규칙을 추가합니다.  장애 조치 시 소스 VM에 적용될 네트워킹을 지정하려면 소스 및 대상 VM IP 범위를 입력합니다.  별표를 사용하여 해당 옥텟에 대한 주소 범위를 지정합니다.  계속하려면 *다음*을 클릭하세요.
+
image::dr-veeam-gcnv-011.png[Re-IP 페이지]

+
{nbsp}

. *작업 설정* 페이지에서 VM 복제본의 메타데이터를 저장할 백업 저장소와 보존 정책을 지정하고, 추가 작업 설정을 위해 하단에 있는 *고급...* 버튼을 선택합니다.  계속하려면 *다음*을 클릭하세요.
. *데이터 전송*에서 소스 및 대상 사이트에 있는 프록시 서버를 선택하고 직접 옵션을 선택된 상태로 유지합니다.  WAN 가속기도 구성된 경우 여기에서 선택할 수 있습니다.  계속하려면 *다음*을 클릭하세요.
+
image::dr-veeam-gcnv-012.png[데이터 전송]

+
{nbsp}

. *게스트 처리* 페이지에서 필요에 따라 *애플리케이션 인식 처리 사용* 상자를 선택하고 *게스트 OS 자격 증명*을 선택합니다.  계속하려면 *다음*을 클릭하세요.
+
image::dr-veeam-gcnv-013.png[게스트 처리]

+
{nbsp}

. *일정* 페이지에서 복제 작업이 실행되는 시간과 빈도를 정의합니다.  계속하려면 *다음*을 클릭하세요.
+
image::dr-veeam-gcnv-014.png[일정 페이지]

+
{nbsp}

. 마지막으로, *요약* 페이지에서 작업 설정을 검토하세요.  *마침을 클릭하면 작업 실행* 확인란을 선택하고 *마침*을 클릭하여 복제 작업 생성을 완료합니다.
. 복제 작업을 실행하면 작업 상태 창에서 해당 작업을 볼 수 있습니다.
+
image::dr-veeam-gcnv-015.png[작업 상태 창]

+
Veeam 복제에 대한 추가 정보는 다음을 참조하세요.link:https://helpcenter.veeam.com/docs/backup/vsphere/replication_process.html?ver=120["복제 작동 방식"]



====
.장애 조치 계획 만들기
[%collapsible%open]
====
초기 복제 또는 시딩이 완료되면 장애 조치 계획을 만듭니다.  장애 조치 계획은 종속된 VM에 대해 하나씩 또는 그룹별로 자동으로 장애 조치를 수행하는 데 도움이 됩니다.  장애 조치 계획은 부팅 지연을 포함하여 VM이 처리되는 순서에 대한 청사진입니다.  장애 조치 계획은 또한 중요한 종속 VM이 이미 실행 중인지 확인하는 데 도움이 됩니다.

초기 복제 또는 시딩을 완료한 후 장애 조치 계획을 수립합니다.  이 계획은 개별적으로 또는 그룹으로 종속된 VM의 장애 조치를 조율하기 위한 전략적 청사진 역할을 합니다.  VM의 처리 순서를 정의하고, 필요한 부팅 지연을 통합하며, 중요한 종속 VM이 다른 VM보다 먼저 작동하도록 보장합니다.  잘 구성된 장애 조치 계획을 구현함으로써 조직은 재해 복구 프로세스를 간소화하고, 가동 중지 시간을 최소화하며, 장애 조치 이벤트 중에 상호 종속된 시스템의 무결성을 유지할 수 있습니다.

Veeam Backup & Replication은 계획을 생성할 때 가장 최근의 복원 지점을 자동으로 식별하고 이를 사용하여 VM 복제본을 시작합니다.


NOTE: 장애 조치 계획은 초기 복제가 완료되고 VM 복제본이 준비 상태가 된 후에만 생성할 수 있습니다.


NOTE: 장애 조치 계획을 실행할 때 동시에 시작할 수 있는 VM의 최대 수는 10개입니다.


NOTE: 장애 조치 프로세스 동안 소스 VM의 전원은 꺼지지 않습니다.

*장애 조치 계획*을 생성하려면 다음 단계를 완료하세요.

. *홈* 보기에서 *복원* 섹션의 *장애 조치 계획* 버튼을 클릭합니다.  드롭다운에서 *VMware vSphere...*를 선택하세요.
+
image::dr-veeam-gcnv-016.png[장애 조치 계획 생성]

+
{nbsp}

. *새로운 장애 조치 계획* 마법사의 *일반* 페이지에서 계획의 이름과 설명을 입력합니다.  필요에 따라 사전 및 사후 장애 조치 스크립트를 추가할 수 있습니다.  예를 들어, 복제된 VM을 시작하기 전에 VM을 종료하는 스크립트를 실행합니다.
+
image::dr-veeam-gcnv-017.png[일반 페이지]

+
{nbsp}

. *가상 머신* 페이지에서 *VM 추가* 버튼을 클릭하고 *복제본에서...*를 선택합니다.  장애 조치 계획에 포함할 VM을 선택한 다음, 애플리케이션 종속성을 충족하도록 VM 부팅 순서와 필요한 부팅 지연을 수정합니다.
+
image::dr-veeam-gcnv-018.png[가상 머신 페이지]

+
{nbsp}

+
image::dr-veeam-gcnv-019.png[부팅 순서 및 지연]

+
{nbsp}

+
계속하려면 *적용*을 클릭하세요.

. 마지막으로 모든 장애 조치 계획 설정을 검토하고 *마침*을 클릭하여 장애 조치 계획을 만듭니다.


복제 작업 생성에 대한 추가 정보는 다음을 참조하세요.link:https://helpcenter.veeam.com/docs/backup/vsphere/replica_job.html?ver=120["복제 작업 생성"] .

====
.장애 조치 계획 실행
[%collapsible%open]
====
장애 조치(failover) 중에 프로덕션 사이트의 소스 VM은 재해 복구 사이트의 복제본으로 전환됩니다.  이 프로세스의 일부로 Veeam Backup & Replication은 VM 복제본을 필요한 복원 지점으로 복원하고 소스 VM의 모든 I/O 활동을 복제본으로 전송합니다.  복제품은 실제 재난 상황에서만 활용되는 것이 아니라 재해 복구 훈련을 시뮬레이션하는 데에도 활용됩니다.  장애 조치 시뮬레이션에서는 소스 VM이 계속 실행됩니다.  필요한 테스트가 완료되면 장애 조치를 취소하고 작업을 정상으로 되돌릴 수 있습니다.


NOTE: 장애 조치 중 IP 충돌을 피하기 위해 네트워크 분할이 제대로 되어 있는지 확인하세요.

장애 조치 계획을 시작하려면 다음 단계를 완료하세요.

. 시작하려면 *홈* 보기에서 왼쪽 메뉴의 *복제본 > 장애 조치 계획*을 클릭한 다음 *시작* 버튼을 클릭합니다.  또는 *시작...* 버튼을 사용하여 이전 복원 지점으로 장애 조치를 수행할 수 있습니다.
+
image::dr-veeam-gcnv-020.png[장애 조치 계획 시작]

+
{nbsp}

. *장애 조치 계획 실행* 창에서 장애 조치 진행 상황을 모니터링합니다.
+
image::dr-veeam-gcnv-021.png[장애 조치 진행 상황 모니터링]

+
{nbsp}




NOTE: Veeam Backup & Replication은 복제본이 준비 상태로 돌아올 때까지 소스 VM에 대한 모든 복제 활동을 중지합니다.

장애 조치 계획에 대한 자세한 내용은 다음을 참조하세요.link:https://helpcenter.veeam.com/docs/backup/vsphere/failover_plan.html?ver=120["장애 조치 계획"] .

====
.프로덕션 사이트로의 장애 복구
[%collapsible%open]
====
장애 조치를 수행하는 것은 중간 단계로 간주되며 요구 사항에 따라 마무리되어야 합니다.  옵션은 다음과 같습니다.

* *운영 환경으로의 장애 복구* - 원본 VM으로 되돌리고 복제본의 활성 기간 동안 변경된 모든 내용을 소스 VM과 동기화합니다.



NOTE: 장애 복구 중에 변경 사항은 전송되지만 즉시 적용되지는 않습니다.  원래 VM의 기능이 검증되면 *페일백 커밋*을 선택합니다.  또는 원래 VM에서 예상치 못한 동작이 나타나는 경우 *장애 복구 취소*를 선택하여 VM 복제본으로 되돌립니다.

* *장애 조치 취소* - 운영 기간 동안 VM 복제본에 적용된 모든 변경 사항을 삭제하고 원래 VM으로 되돌립니다.
* *영구 장애 조치* - 원본 VM에서 복제본으로 영구적으로 전환하여 진행 중인 작업을 위한 새로운 기본 VM으로 복제본을 설정합니다.


이 시나리오에서는 "프로덕션으로의 장애 복구" 옵션이 선택되었습니다.

프로덕션 사이트로 장애 복구를 수행하려면 다음 단계를 완료하세요.

. *홈* 보기에서 왼쪽 메뉴의 *복제본 > 활성*을 클릭합니다.  포함할 VM을 선택하고 상단 메뉴에서 *프로덕션으로 장애 복구* 버튼을 클릭합니다.
+
image::dr-veeam-gcnv-022.png[장애 복구 시작]

+
{nbsp}

. *장애 복구* 마법사의 *복제본* 페이지에서 장애 복구 작업에 포함할 복제본을 선택합니다.
. *대상* 페이지에서 *원래 VM으로 장애 복구*를 선택하고 *다음*을 클릭하여 계속합니다.
+
image::dr-veeam-gcnv-023.png[원래 VM으로 장애 복구]

+
{nbsp}

. *장애 복구 모드* 페이지에서 *자동*을 선택하면 가능한 한 빨리 장애 복구가 시작됩니다.
+
image::dr-veeam-gcnv-024.png[장애 복구 모드]

+
{nbsp}

. *요약* 페이지에서 *복원 후 대상 VM 전원 켜기* 여부를 선택한 다음, 마침을 클릭하여 장애 복구 작업을 시작합니다.
+
image::dr-veeam-gcnv-025.png[장애 복구 작업 요약]

+
{nbsp}



장애 복구 커밋은 장애 복구 작업을 마무리하고 프로덕션 VM에 대한 변경 사항의 성공적인 통합을 확인합니다.  커밋 시, Veeam Backup & Replication은 복원된 프로덕션 VM에 대한 정기적인 복제 활동을 재개합니다.  이렇게 하면 복구된 복제본의 상태가 _Failback_에서 _Ready_로 변경됩니다.

. 장애 복구를 커밋하려면 *복제본 > 활성*으로 이동하여 커밋할 VM을 선택하고 마우스 오른쪽 버튼을 클릭한 다음 *장애 복구 커밋*을 선택합니다.
+
image::dr-veeam-gcnv-026.png[커밋 장애 복구]

+
{nbsp}

+
image::dr-veeam-gcnv-027.png[커밋 장애 복구 성공]

+
{nbsp} 프로덕션으로의 장애 복구가 성공하면 모든 VM이 원래 프로덕션 사이트로 복원됩니다.



장애 복구 프로세스에 대한 자세한 내용은 Veeam 설명서를 참조하세요.link:https://helpcenter.veeam.com/docs/backup/vsphere/failover_failback.html?ver=120["복제를 위한 장애 조치 및 장애 복구"] .

====


== 결론

Google Cloud NetApp Volumes 데이터 저장소 기능은 Veeam과 다른 검증된 타사 도구를 사용하여 비용 효율적인 재해 복구(DR) 솔루션을 제공할 수 있도록 지원합니다.  VM 복제본에 대규모 전용 클러스터 대신 파일럿 라이트 클러스터를 활용하면 조직에서 비용을 크게 줄일 수 있습니다.  이러한 접근 방식을 통해 클라우드 기반 재해 복구를 위한 기존 사내 백업 솔루션을 활용하는 맞춤형 재해 복구 전략이 가능해져 온프레미스 데이터 센터가 추가로 필요 없게 됩니다.  재해 발생 시, 단 한 번의 클릭으로 장애 조치를 시작하거나 자동으로 발생하도록 구성하여 최소한의 가동 중지 시간으로 비즈니스 연속성을 보장할 수 있습니다.

이 과정에 대해 자세히 알아보려면 자세한 안내 영상을 시청하세요.

video::b2fb8597-c3fe-49e2-8a84-b1f10118db6d[panopto,width=Video walkthrough of the solution]