---
sidebar: sidebar 
permalink: vmware/vmw-hybrid-overview.html 
keywords: NetApp Solutions, hybrid, multicloud, multi cloud, enterprise hybrid cloud, hyperscalers, vmware 
summary:  
---
= VMware를 활용한 NetApp 하이브리드 멀티클라우드 개요
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
대부분의 IT 조직은 하이브리드 클라우드 우선 접근 방식을 따릅니다.  이러한 조직은 변화 단계에 있으며, 고객은 현재 IT 환경을 평가한 다음 평가 및 발견 활동을 기반으로 워크로드를 클라우드로 마이그레이션하고 있습니다.

고객이 클라우드로 마이그레이션하는 데에는 탄력성과 폭발성, 데이터 센터 종료, 데이터 센터 통합, 수명 종료 시나리오, 합병, 인수 등이 포함될 수 있습니다.  이러한 마이그레이션의 이유는 각 조직과 해당 비즈니스 우선순위에 따라 다를 수 있습니다.  하이브리드 클라우드로 전환할 때 클라우드 배포의 힘과 탄력성을 최대한 활용하기 위해 클라우드에서 올바른 스토리지를 선택하는 것이 매우 중요합니다.



== 퍼블릭 클라우드의 VMware Cloud 옵션

이 섹션에서는 각 클라우드 공급업체가 각자의 퍼블릭 클라우드 서비스 내에서 VMware 소프트웨어 정의 데이터 센터(SDDC) 및/또는 VMware Cloud Foundation(VCF) 스택을 지원하는 방식을 설명합니다.



=== Azure VMware 솔루션

Azure VMware Solution은 Microsoft Azure 퍼블릭 클라우드 내에서 완벽한 기능을 갖춘 VMware SDDC를 구현할 수 있는 하이브리드 클라우드 서비스입니다.  Azure VMware 솔루션은 Microsoft에서 완벽하게 관리하고 지원하는 자체 솔루션으로, Azure 인프라를 활용하여 VMware에서 검증되었습니다.  즉, Azure VMware Solution을 배포하면 고객은 컴퓨팅 가상화를 위한 VMware ESXi, 하이퍼 컨버지드 스토리지를 위한 vSAN, 네트워킹 및 보안을 위한 NSX를 모두 이용할 수 있으며, Microsoft Azure의 글로벌 입지, 동급 최고의 데이터 센터 시설, 풍부한 네이티브 Azure 서비스 및 솔루션 생태계와의 근접성을 활용할 수 있습니다.



=== AWS의 VMware 클라우드

AWS의 VMware Cloud는 기본 AWS 서비스에 대한 최적화된 액세스를 통해 VMware의 엔터프라이즈급 SDDC 소프트웨어를 AWS 클라우드에 제공합니다.  VMware Cloud Foundation 기반의 VMware Cloud on AWS는 VMware의 컴퓨팅, 스토리지 및 네트워크 가상화 제품(VMware vSphere, VMware vSAN 및 VMware NSX)과 VMware vCenter Server 관리를 통합하여 전용의 탄력적 베어메탈 AWS 인프라에서 실행되도록 최적화되었습니다.



=== 구글 클라우드 VMware 엔진

Google Cloud VMware Engine은 Google Cloud의 고성능 확장형 인프라와 VMware Cloud Foundation 스택(VMware vSphere, vCenter, vSAN, NSX-T)을 기반으로 구축된 서비스형 인프라(IaaS) 제품입니다. 이 서비스를 통해 기존 VMware 워크로드를 온프레미스 환경에서 Google Cloud Platform으로 원활하게 마이그레이션하거나 확장하여 클라우드로 빠르게 전환할 수 있으며, 애플리케이션 재설계나 운영 재구축에 따른 비용, 노력 또는 위험 부담 없이 운영을 재구축할 수 있습니다.  Google에서 판매 및 지원하는 서비스로, VMware와 긴밀히 협력하고 있습니다.


NOTE: SDDC 프라이빗 클라우드와 NetApp Cloud Volumes 콜로케이션은 최소한의 네트워크 지연 시간으로 최고의 성능을 제공합니다.



== 알고 계셨나요?

어떤 클라우드를 사용하든 VMware SDDC가 배포되면 초기 클러스터에는 다음 제품이 포함됩니다.

* 관리를 위한 vCenter Server 어플라이언스를 사용한 컴퓨팅 가상화를 위한 VMware ESXi 호스트
* 각 ESXi 호스트의 물리적 스토리지 자산을 통합한 VMware vSAN 하이퍼 컨버지드 스토리지
* 관리를 위한 NSX Manager 클러스터를 갖춘 가상 네트워킹 및 보안을 위한 VMware NSX




== 스토리지 구성

스토리지 집약적 워크로드를 호스팅하고 클라우드 호스팅 VMware 솔루션에서 확장하려는 고객의 경우, 기본 하이퍼 컨버지드 인프라는 컴퓨팅 및 스토리지 리소스 모두에서 확장이 이루어져야 함을 나타냅니다.

Azure NetApp Files, Amazon FSx ONTAP, Cloud Volumes ONTAP (3대 하이퍼스케일러에서 모두 사용 가능), Google Cloud NetApp Volumes for Google Cloud 등의 NetApp Cloud Volumes와 통합함으로써 이제 고객은 스토리지를 개별적으로 독립적으로 확장하고 필요에 따라서만 SDDC 클러스터에 컴퓨팅 노드를 추가할 수 있습니다.



=== 참고사항:

* VMware에서는 불균형적인 클러스터 구성을 권장하지 않습니다. 따라서 스토리지를 확장하면 호스트를 더 추가해야 하며, 이는 TCO 증가로 이어집니다.
* vSAN 환경은 하나만 가능합니다.  따라서 모든 스토리지 트래픽은 프로덕션 워크로드와 직접적으로 경쟁하게 됩니다.
* 애플리케이션 요구 사항, 성능 및 비용을 조정하기 위해 여러 성능 계층을 제공하는 옵션은 없습니다.
* 클러스터 호스트 위에 구축된 vSAN의 저장 용량 한계에 도달하는 것은 매우 쉽습니다.  NetApp Cloud Volumes를 사용하면 스토리지를 확장하여 활성 데이터 세트를 호스팅하거나 쿨러 데이터를 영구 스토리지로 계층화할 수 있습니다.


Azure NetApp Files, Amazon FSx ONTAP, Cloud Volumes ONTAP (3대 주요 하이퍼스케일러에서 모두 사용 가능), Google Cloud용 Google Cloud NetApp Volumes 게스트 VM과 함께 사용할 수 있습니다.  이 하이브리드 스토리지 아키텍처는 게스트 운영 체제와 애플리케이션 바이너리 데이터를 보관하는 vSAN 데이터스토어로 구성됩니다.  애플리케이션 데이터는 게스트 기반 iSCSI 초기자 또는 Google Cloud용 Amazon FSx ONTAP, Cloud Volume ONTAP, Azure NetApp Files 및 Google Cloud NetApp Volumes 와 직접 통신하는 NFS/SMB 마운트를 통해 VM에 연결됩니다.  이 구성을 사용하면 vSAN의 경우 저장 용량과 관련된 문제를 쉽게 극복할 수 있습니다. 사용 가능한 여유 공간은 여유 공간과 사용하는 저장 정책에 따라 달라집니다.

AWS의 VMware Cloud에서 3노드 SDDC 클러스터를 고려해 보겠습니다.

* 3노드 SDDC의 총 원시 용량은 31.1TB(노드당 약 10TB)입니다.
* 추가 호스트를 추가하기 전에 유지해야 할 여유 공간 = 25% = (.25 x 31.1TB) = 7.7TB.
* 여유 공간을 차감한 후 사용 가능한 원시 용량 = 23.4TB
* 사용 가능한 유효 여유 공간은 적용되는 저장 정책에 따라 달라집니다.
+
예를 들어:

+
** RAID 0 = 유효 여유 공간 = 23.4TB(사용 가능한 원시 용량/1)
** RAID 1 = 유효 여유 공간 = 11.7TB(사용 가능한 원시 용량/2)
** RAID 5 = 유효 여유 공간 = 17.5TB(사용 가능한 원시 용량/1.33)




따라서 NetApp Cloud Volumes를 게스트 연결 스토리지로 사용하면 성능 및 데이터 보호 요구 사항을 충족하는 동시에 스토리지를 확장하고 TCO를 최적화하는 데 도움이 됩니다.


NOTE: 이 문서가 작성되었을 당시에는 게스트 내 스토리지가 유일한 사용 가능한 옵션이었습니다.



=== 기억해야 할 점

* 하이브리드 스토리지 모델에서는 호스트 자체의 일부이며 근접해 있기 때문에 특정 지연 시간 요구 사항을 해결하기 위해 vSAN 데이터 저장소에 1계층 또는 높은 우선순위의 워크로드를 배치합니다.  트랜잭션 지연이 허용되는 모든 워크로드 VM에 대해 게스트 내 메커니즘을 사용합니다.
* NetApp SnapMirror 기술을 사용하면 온프레미스 ONTAP 시스템의 워크로드 데이터를 Cloud Volumes ONTAP 또는 Amazon FSx ONTAP 으로 복제하여 블록 수준 메커니즘을 사용하여 마이그레이션을 용이하게 할 수 있습니다.  이는 Azure NetApp Files 및 Google Cloud NetApp Volumes 에는 적용되지 않습니다.  Azure NetApp Files 또는 Google Cloud NetApp Volumes 로 데이터를 마이그레이션하려면 사용된 파일 프로토콜에 따라 NetApp XCP, BlueXP Copy and Sync, rysnc 또는 robocopy를 사용하세요.
* 테스트 결과, 각 SDDC에서 스토리지에 액세스하는 동안 2~4ms의 추가 지연이 발생하는 것으로 나타났습니다.  저장소를 매핑할 때 애플리케이션 요구 사항에 이러한 추가 지연 시간을 고려하세요.
* 테스트 장애 조치 및 실제 장애 조치 중에 게스트 연결 스토리지를 마운트하려면 iSCSI 이니시에이터가 재구성되었는지, SMB 공유에 대한 DNS가 업데이트되었는지, NFS 마운트 지점이 fstab에 업데이트되었는지 확인하세요.
* VM 내부에서 게스트 Microsoft Multipath I/O(MPIO), 방화벽 및 디스크 시간 초과 레지스트리 설정이 올바르게 구성되었는지 확인하세요.



NOTE: 이는 게스트 연결 스토리지에만 적용됩니다.



== NetApp 클라우드 스토리지의 이점

NetApp 클라우드 스토리지는 다음과 같은 이점을 제공합니다.

* 컴퓨팅과 독립적으로 스토리지를 확장하여 컴퓨팅-스토리지 밀도를 개선합니다.
* 호스트 수를 줄여 전반적인 TCO를 절감할 수 있습니다.
* 컴퓨팅 노드 장애는 스토리지 성능에 영향을 미치지 않습니다.
* Azure NetApp Files 의 볼륨 재구성 및 동적 서비스 수준 기능을 사용하면 안정적인 작업 부하에 맞춰 크기를 조정하여 비용을 최적화하고 과도한 프로비저닝을 방지할 수 있습니다.
* Cloud Volumes ONTAP 의 스토리지 효율성, 클라우드 계층화, 인스턴스 유형 수정 기능을 통해 스토리지를 추가하고 확장하는 최적의 방법을 제공합니다.
* 과도한 프로비저닝을 방지하고 필요할 때만 스토리지 리소스가 추가됩니다.
* 효율적인 스냅샷 복사 및 복제를 사용하면 성능에 영향을 주지 않고 빠르게 복사본을 만들 수 있습니다.
* 스냅샷 복사본을 통한 빠른 복구를 통해 랜섬웨어 공격에 대응하는 데 도움이 됩니다.
* 효율적인 증분형 블록 전송 기반 지역 재해 복구를 제공하고, 지역 전반에 걸쳐 통합된 백업 블록 수준을 제공하여 더 나은 RPO와 RTO를 제공합니다.




== 가정

* SnapMirror 기술이나 기타 관련 데이터 마이그레이션 메커니즘이 활성화되어 있습니다.  온프레미스부터 하이퍼스케일러 클라우드까지 다양한 연결 옵션이 있습니다.  적절한 경로를 사용하고 관련 네트워킹 팀과 협력하세요.
* 이 문서가 작성되었을 당시에는 게스트 내 스토리지가 유일한 사용 가능한 옵션이었습니다.



NOTE: 스토리지 계획 및 크기 조정, 필요한 호스트 수를 위해 NetApp 솔루션 아키텍트와 해당 하이퍼스케일러 클라우드 아키텍트를 참여시킵니다.  NetApp Cloud Volumes ONTAP 사이저를 사용하기 전에 스토리지 성능 요구 사항을 파악하여 스토리지 인스턴스 유형이나 적절한 처리량을 갖춘 적절한 서비스 수준을 확정할 것을 권장합니다.



== 세부적인 아키텍처

높은 수준의 관점에서 볼 때, 이 아키텍처(아래 그림 참조)는 NetApp Cloud Volumes ONTAP, Google Cloud NetApp Volumes for Google Cloud 및 Azure NetApp Files 추가 게스트 스토리지 옵션으로 사용하여 여러 클라우드 공급자 간에 하이브리드 멀티클라우드 연결 및 앱 이동성을 달성하는 방법을 다룹니다.

image:ehc-architecture.png["엔터프라이즈 하이브리드 클라우드 아키텍처"]
